# ðŸ“‚ Pharmagen Project Structure

This document details the organization of the project's directories and files to facilitate navigation and development.

## Core Directories

### `src/` (Source Code)
The core codebase of Pharmagen.
*   **`analysis/`**: Pure bioinformatics modules.
    *   `ngs_pipeline.py`: NGS processing pipeline (QC, alignment).
    *   `vcf_parser.py`: Parser for extracting variants from VCF files.
*   **`cfg/`**: Configuration management.
    *   `manager.py`: Loads and validates configurations from TOML files.
*   **`data/`**: Data handling and PyTorch Datasets.
    *   `data_handler.py`: Classes for efficient data loading during training.
*   **`interface/`**: User interaction.
    *   `cli.py`: Interactive menu logic.
    *   `ui.py`: Visual elements for the console interface.
*   **`model/`**: Deep Learning logic.
    *   `architecture/`: Model definitions (e.g., `deep_fm.py`).
    *   `engine/`: Execution engines (`trainer.py`, `predict.py`, `optuna_tuner.py`).
    *   `metrics/`: Loss functions and evaluation metrics.
*   **`pgen_model/`**: Storage for serialized objects (encoders, saved models).

### `config/`
Centralized configuration. Prevents hardcoding of paths and parameters.
*   `config.toml`: General system configuration.
*   `models.toml`: Model architecture definitions and Optuna search spaces.
*   `paths.toml`: File system path mapping.

### `data/`
Data storage in various states. **Note:** Most of these folders are in `.gitignore`.
*   `raw/`: Immutable raw data (original FASTQ, TSV).
*   `processed/`: Cleaned and transformed data ready for the model.
*   `dicts/`: Mapping dictionaries (ATC codes, gene IDs, vocabulary).
*   `vcf/`: Genetic variant files.
*   `ref_genome/`: Reference genome for alignment.

### `reports/`
Outputs generated by the system.
*   `optuna_reports/`: Optimization experiment results (JSON, logs).
*   `figures/`: Performance plots (loss curves, feature importance).
*   `train_reports/`: Detailed training session logs.

### `tests/`
Automated tests using `pytest`.
*   `test_data.py`: Data integrity tests.
*   `test_modeling.py`: Model forward/backward pass tests.

## Root Files

*   `main.py`: Main entry point. Application orchestrator.
*   `pyproject.toml`: Modern Python project definition (dependencies, metadata, tools).
*   `uv.lock`: Version lock file for `uv` (exact reproducibility).
*   `README.md`: General documentation and startup guide.
